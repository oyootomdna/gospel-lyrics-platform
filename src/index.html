<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gospel Lyrics Platform - Golden Edition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-gold: #FFD700;
            --dark-gold: #B8860B;
            --light-gold: #FFF8DC;
            --accent-gold: #DAA520;
            --royal-purple: #4B0082;
            --deep-purple: #2F0A4F;
            --text-gold: #F5DEB3;
            --shadow-gold: rgba(255, 215, 0, 0.3);
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Georgia', serif; 
            background: linear-gradient(135deg, var(--royal-purple) 0%, var(--deep-purple) 50%, #1a0631 100%);
            min-height: 100vh; 
            color: var(--text-gold); 
            position: relative;
        }
        
        /* Animated golden particles background */
        .golden-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .particle {
            position: absolute;
            background: var(--primary-gold);
            width: 3px;
            height: 3px;
            border-radius: 50%;
            opacity: 0.7;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0; }
            50% { transform: translateY(-100px) rotate(180deg); opacity: 1; }
        }
        
        /* Status Bar */
        .status-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(90deg, var(--dark-gold), var(--primary-gold));
            color: var(--deep-purple);
            padding: 8px 20px;
            font-weight: bold;
            font-size: 14px;
            z-index: 1000;
            box-shadow: 0 2px 10px var(--shadow-gold);
        }
        
        .status-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .voice-status {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .voice-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #ff4444;
            animation: pulse 2s infinite;
        }
        
        .voice-indicator.active {
            background: #44ff44;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 80px 20px 20px;
            position: relative;
            z-index: 10;
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
            background: linear-gradient(45deg, var(--primary-gold), var(--accent-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header h1 {
            font-size: 3.5em;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            animation: glow 3s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { text-shadow: 0 0 20px var(--primary-gold); }
            to { text-shadow: 0 0 30px var(--primary-gold), 0 0 40px var(--accent-gold); }
        }
        
        .subtitle {
            font-size: 1.4em;
            color: var(--light-gold);
            font-style: italic;
        }
        
        /* Theme Selector */
        .theme-selector {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid var(--primary-gold);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(255, 215, 0, 0.2);
        }
        
        .theme-selector h3 {
            color: var(--primary-gold);
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.5em;
        }
        
        .theme-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .theme-btn {
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .theme-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .theme-btn:hover::before {
            left: 100%;
        }
        
        .golden-theme {
            background: linear-gradient(45deg, var(--primary-gold), var(--dark-gold));
            color: var(--deep-purple);
        }
        
        .royal-theme {
            background: linear-gradient(45deg, #663399, #4B0082);
            color: white;
        }
        
        .emerald-theme {
            background: linear-gradient(45deg, #50C878, #228B22);
            color: white;
        }
        
        .ruby-theme {
            background: linear-gradient(45deg, #E0115F, #8B0000);
            color: white;
        }
        
        /* Voice Command Section */
        .voice-section {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid var(--accent-gold);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            text-align: center;
            backdrop-filter: blur(10px);
        }
        
        .voice-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .voice-btn {
            background: linear-gradient(45deg, var(--primary-gold), var(--accent-gold));
            color: var(--deep-purple);
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }
        
        .voice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.4);
        }
        
        .voice-btn:active {
            transform: translateY(0);
        }
        
        .voice-commands-list {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .command-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
        }
        
        .command-item:last-child {
            border-bottom: none;
        }
        
        /* Social Media Integration */
        .social-section {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid var(--primary-gold);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            text-align: center;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .social-link {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: linear-gradient(45deg, var(--primary-gold), var(--accent-gold));
            color: var(--deep-purple);
            text-decoration: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }
        
        .social-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(255, 215, 0, 0.5);
        }
        
        /* Main Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .content-card {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid var(--accent-gold);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .content-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary-gold), var(--accent-gold), var(--primary-gold));
            border-radius: 15px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .content-card:hover::before {
            opacity: 1;
        }
        
        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        }
        
        .card-icon {
            font-size: 2.5em;
            color: var(--primary-gold);
            margin-bottom: 15px;
        }
        
        .card-title {
            font-size: 1.5em;
            color: var(--primary-gold);
            margin-bottom: 15px;
        }
        
        .card-description {
            color: var(--text-gold);
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .card-button {
            background: linear-gradient(45deg, var(--primary-gold), var(--accent-gold));
            color: var(--deep-purple);
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .card-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
        }
        
        /* Admin Panel Access */
        .admin-access {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .admin-btn {
            background: linear-gradient(45deg, var(--dark-gold), var(--primary-gold));
            color: var(--deep-purple);
            border: none;
            padding: 15px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
            transition: all 0.3s ease;
        }
        
        .admin-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.6);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5em;
            }
            
            .container {
                padding: 60px 15px 15px;
            }
            
            .theme-buttons {
                grid-template-columns: 1fr;
            }
            
            .voice-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .social-links {
                flex-direction: column;
                align-items: center;
            }
            
            .content-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Status Bar -->
    <div class="status-bar">
        <div class="status-content">
            <div>üéµ Gospel Lyrics Platform - Golden Edition | Connected to oyoofrancistomy2@gmail.com</div>
            <div class="voice-status">
                <div class="voice-indicator" id="voiceIndicator"></div>
                <span id="voiceStatus">Voice Ready</span>
            </div>
        </div>
    </div>

    <!-- Animated Golden Particles -->
    <div class="golden-particles" id="particles"></div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üéµ Gospel Lyrics Platform</h1>
            <p class="subtitle">Golden Edition - Premium Experience</p>
        </div>

        <!-- Theme Selector -->
        <div class="theme-selector">
            <h3>‚ú® Choose Your Premium Theme</h3>
            <div class="theme-buttons">
                <button class="theme-btn golden-theme" onclick="applyTheme('golden')">
                    ü•á Golden Royalty (Current)
                </button>
                <button class="theme-btn royal-theme" onclick="applyTheme('royal')">
                    üëë Royal Purple
                </button>
                <button class="theme-btn emerald-theme" onclick="applyTheme('emerald')">
                    üíé Emerald Divine
                </button>
                <button class="theme-btn ruby-theme" onclick="applyTheme('ruby')">
                    üíç Ruby Passion
                </button>
            </div>
        </div>

        <!-- Voice Command Section -->
        <div class="voice-section">
            <h3>üé§ Voice Commands</h3>
            <p>Control the platform with your voice! Say commands naturally.</p>
            
            <div class="voice-controls">
                <button class="voice-btn" onclick="startVoiceRecognition()">
                    <i class="fas fa-microphone"></i> Start Voice Recognition
                </button>
                <button class="voice-btn" onclick="stopVoiceRecognition()">
                    <i class="fas fa-microphone-slash"></i> Stop Listening
                </button>
                <button class="voice-btn" onclick="calibrateVoice()">
                    <i class="fas fa-cog"></i> Calibrate My Voice
                </button>
                <button class="voice-btn" onclick="showVoiceHelp()">
                    <i class="fas fa-question-circle"></i> Voice Commands
                </button>
            </div>
            
            <div style="margin-top: 15px; padding: 15px; background: rgba(0,0,0,0.2); border-radius: 10px;">
                <h4 style="color: var(--primary-gold); margin-bottom: 10px;">üé§ Real Voice Recognition Active</h4>
                <p><strong>Try saying:</strong> "Hello Gospel Platform" or "Search for Amazing Grace"</p>
                <p><strong>Natural Speech:</strong> Speak normally - no need for exact commands!</p>
                <p><strong>Calibration:</strong> Click "Calibrate My Voice" for personalized recognition</p>
            </div>

            <div class="voice-commands-list" id="voiceHelp" style="display: none;">
                <h4>üé§ Natural Voice Commands (Speak Normally!):</h4>
                
                <div style="margin-bottom: 15px; padding: 10px; background: rgba(255,215,0,0.1); border-radius: 5px;">
                    <strong>üîç Search Commands:</strong>
                    <div class="command-item">
                        <span>"Search for Amazing Grace"</span>
                        <span>Find specific songs</span>
                    </div>
                    <div class="command-item">
                        <span>"Find gospel songs about love"</span>
                        <span>Topic-based search</span>
                    </div>
                    <div class="command-item">
                        <span>"Show me worship music"</span>
                        <span>Category search</span>
                    </div>
                </div>
                
                <div style="margin-bottom: 15px; padding: 10px; background: rgba(255,215,0,0.1); border-radius: 5px;">
                    <strong>üé® Theme Commands:</strong>
                    <div class="command-item">
                        <span>"Change to golden theme"</span>
                        <span>Switch to gold</span>
                    </div>
                    <div class="command-item">
                        <span>"Make it purple" / "Royal theme"</span>
                        <span>Switch to royal</span>
                    </div>
                    <div class="command-item">
                        <span>"Use emerald color"</span>
                        <span>Switch to emerald</span>
                    </div>
                </div>
                
                <div style="margin-bottom: 15px; padding: 10px; background: rgba(255,215,0,0.1); border-radius: 5px;">
                    <strong>‚öôÔ∏è Navigation Commands:</strong>
                    <div class="command-item">
                        <span>"Open admin dashboard"</span>
                        <span>Admin access</span>
                    </div>
                    <div class="command-item">
                        <span>"Show social media"</span>
                        <span>Social links</span>
                    </div>
                    <div class="command-item">
                        <span>"Download themes"</span>
                        <span>Export themes</span>
                    </div>
                </div>
                
                <div style="margin-bottom: 15px; padding: 10px; background: rgba(255,215,0,0.1); border-radius: 5px;">
                    <strong>ü§ñ System Commands:</strong>
                    <div class="command-item">
                        <span>"Hello" / "Hi there"</span>
                        <span>Greeting & status</span>
                    </div>
                    <div class="command-item">
                        <span>"Calibrate voice"</span>
                        <span>Improve recognition</span>
                    </div>
                    <div class="command-item">
                        <span>"Help" / "What can you do"</span>
                        <span>Show this guide</span>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 15px; padding: 10px; background: rgba(255,215,0,0.2); border-radius: 5px;">
                    <strong>üí° Pro Tip:</strong> Speak naturally! The system understands variations and context.
                </div>
            </div>
        </div>

        <!-- Social Media Integration -->
        <div class="social-section">
            <h3>üì± Connect with Francis Oyoo</h3>
            <p>Follow and engage on all social platforms linked to oyoofrancistomy2@gmail.com</p>
            
            <div class="social-links">
                <a href="https://facebook.com/oyoofrancistomy2" class="social-link" target="_blank">
                    <i class="fab fa-facebook"></i> Facebook
                </a>
                <a href="https://twitter.com/oyoofrancistomy2" class="social-link" target="_blank">
                    <i class="fab fa-twitter"></i> Twitter
                </a>
                <a href="https://instagram.com/oyoofrancistomy2" class="social-link" target="_blank">
                    <i class="fab fa-instagram"></i> Instagram
                </a>
                <a href="https://youtube.com/@oyoofrancistomy2" class="social-link" target="_blank">
                    <i class="fab fa-youtube"></i> YouTube
                </a>
                <a href="https://linkedin.com/in/oyoofrancistomy2" class="social-link" target="_blank">
                    <i class="fab fa-linkedin"></i> LinkedIn
                </a>
                <a href="mailto:oyoofrancistomy2@gmail.com" class="social-link">
                    <i class="fas fa-envelope"></i> Email
                </a>
            </div>
        </div>

        <!-- Main Content Grid -->
        <div class="content-grid">
            <div class="content-card">
                <div class="card-icon">üîç</div>
                <div class="card-title">Search Lyrics</div>
                <div class="card-description">
                    Find gospel lyrics instantly with our advanced search. Voice command: "Search for [song name]"
                </div>
                <button class="card-button" onclick="searchLyrics()">Search Now</button>
            </div>

            <div class="content-card">
                <div class="card-icon">üì±</div>
                <div class="card-title">Mobile App</div>
                <div class="card-description">
                    Download our mobile app for iOS, Android, Windows, and Mac. Coming soon with premium features.
                </div>
                <button class="card-button" onclick="downloadApp()">Get App</button>
            </div>

            <div class="content-card">
                <div class="card-icon">üé®</div>
                <div class="card-title">Theme Collection</div>
                <div class="card-description">
                    Download premium themes for your personal use. Golden, Royal, Emerald, and Ruby editions available.
                </div>
                <button class="card-button" onclick="downloadThemes()">Download Themes</button>
            </div>

            <div class="content-card">
                <div class="card-icon">‚öôÔ∏è</div>
                <div class="card-title">Admin Dashboard</div>
                <div class="card-description">
                    Manage content, users, and platform settings. Voice command: "Open admin panel"
                </div>
                <button class="card-button" onclick="openAdmin()">Admin Access</button>
            </div>
        </div>
    </div>

    <!-- Admin Access Button -->
    <div class="admin-access">
        <button class="admin-btn" onclick="openAdmin()" title="Admin Dashboard">
            <i class="fas fa-cog"></i>
        </button>
    </div>

    <script>
        // Enhanced Voice Recognition Setup
        let recognition;
        let isListening = false;
        let voiceCalibrated = false;
        let userVoiceProfile = {
            pitch: 1.0,
            rate: 1.0,
            volume: 1.0,
            preferredLanguage: 'en-US'
        };

        // Initialize Enhanced Voice Recognition
        function initializeVoiceRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                
                // Enhanced configuration for better accuracy
                recognition.continuous = true;
                recognition.interimResults = true;
                recognition.lang = userVoiceProfile.preferredLanguage;
                recognition.maxAlternatives = 3; // Get multiple interpretations
                
                // Enhanced event handlers
                recognition.onstart = () => {
                    isListening = true;
                    document.getElementById('voiceIndicator').classList.add('active');
                    document.getElementById('voiceStatus').textContent = 'üé§ Listening to your voice...';
                    updateStatusBar('üé§ REAL VOICE RECOGNITION ACTIVE - Speak naturally!');
                    
                    // Visual feedback for voice activation
                    document.body.style.boxShadow = 'inset 0 0 50px rgba(255, 215, 0, 0.3)';
                };

                recognition.onend = () => {
                    isListening = false;
                    document.getElementById('voiceIndicator').classList.remove('active');
                    document.getElementById('voiceStatus').textContent = 'Voice Ready';
                    updateStatusBar('üéµ Gospel Lyrics Platform - Voice System Ready');
                    
                    // Remove visual feedback
                    document.body.style.boxShadow = 'none';
                    
                    // Auto-restart if user was speaking
                    if (voiceCalibrated) {
                        setTimeout(() => {
                            if (!isListening) startVoiceRecognition();
                        }, 1000);
                    }
                };

                recognition.onresult = (event) => {
                    let finalTranscript = '';
                    let interimTranscript = '';
                    
                    // Process all results for better accuracy
                    for (let i = event.resultIndex; i < event.results.length; i++) {
                        const result = event.results[i];
                        const transcript = result[0].transcript;
                        
                        if (result.isFinal) {
                            finalTranscript += transcript;
                        } else {
                            interimTranscript += transcript;
                        }
                    }
                    
                    // Show interim results for user feedback
                    if (interimTranscript) {
                        updateStatusBar(`üé§ Hearing: "${interimTranscript}"`);
                    }
                    
                    // Process final command
                    if (finalTranscript) {
                        const command = finalTranscript.toLowerCase().trim();
                        updateStatusBar(`üé§ Command received: "${finalTranscript}"`);
                        processEnhancedVoiceCommand(command, finalTranscript);
                    }
                };
                
                recognition.onerror = (event) => {
                    console.error('Voice recognition error:', event.error);
                    let errorMessage = 'Voice recognition error: ';
                    
                    switch(event.error) {
                        case 'no-speech':
                            errorMessage += 'No speech detected. Please speak clearly.';
                            break;
                        case 'audio-capture':
                            errorMessage += 'Microphone not accessible. Please check permissions.';
                            break;
                        case 'not-allowed':
                            errorMessage += 'Microphone permission denied. Please enable microphone access.';
                            break;
                        default:
                            errorMessage += event.error;
                    }
                    
                    speak(errorMessage);
                    updateStatusBar(`‚ùå ${errorMessage}`);
                };
                
                return true;
            } else {
                speak('Voice recognition not supported in this browser. Please use Chrome, Edge, or Safari.');
                return false;
            }
        }

        // Enhanced Voice Command Processing with Natural Language
        function processEnhancedVoiceCommand(command, originalText) {
            console.log('Enhanced voice command received:', command);
            console.log('Original speech text:', originalText);
            
            // Provide immediate feedback that command was heard
            speak('Command received.');
            
            // Enhanced pattern matching with natural language variations
            const patterns = {
                search: /(?:search|find|look for|show me|get me|i want to find|i need|where is|can you find)\s*(?:for)?\s*(.+)/i,
                theme: /(?:change|switch|apply|use|set|make it|go to|select)\s*(?:the)?\s*(?:theme|color|style)\s*(?:to)?\s*(golden|royal|purple|emerald|green|ruby|red)(?:\s*(?:theme|color|style))?/i,
                admin: /(?:open|show|go to|access|take me to)\s*(?:the)?\s*(?:admin|dashboard|management|control panel|settings)/i,
                social: /(?:show|open|go to|take me to)\s*(?:the)?\s*(?:social|facebook|twitter|instagram|youtube|linkedin|email|social media)(?:\s*(?:links|accounts|profiles))?/i,
                download: /(?:download|get|save|export)\s*(?:the)?\s*(?:themes?|styles?|templates?)/i,
                help: /(?:help|what can you do|what commands|show commands|voice commands|assistance|guide)/i,
                greeting: /(?:hello|hi|hey|good morning|good afternoon|good evening|how are you)/i,
                calibrate: /(?:calibrate|train|adjust|setup|configure)\s*(?:voice|speech|microphone)/i
            };
            
            // Process commands with enhanced natural language understanding
            if (patterns.greeting.test(command)) {
                const greetings = [
                    'Hello! Welcome to Gospel Lyrics Platform. How can I help you today?',
                    'Hi there! Your voice sounds great. What would you like to do?',
                    'Good to hear your voice! Ready to help with gospel lyrics.',
                    'Hello! Voice recognition is active. What can I do for you?'
                ];
                speak(greetings[Math.floor(Math.random() * greetings.length)]);
                
            } else if (patterns.calibrate.test(command)) {
                calibrateVoice();
                
            } else if (patterns.search.test(command)) {
                const match = command.match(patterns.search);
                if (match && match[1]) {
                    const searchTerm = match[1].trim();
                    speak(`Searching for ${searchTerm} in our gospel lyrics database.`);
                    searchLyrics(searchTerm);
                } else {
                    speak('What would you like me to search for? Please say something like "search for Amazing Grace" or "find How Great Thou Art".');
                }
                
            } else if (patterns.theme.test(command)) {
                const match = command.match(patterns.theme);
                if (match && match[1]) {
                    const themeColor = match[1].toLowerCase();
                    let themeName = 'golden';
                    
                    if (themeColor.includes('golden')) themeName = 'golden';
                    else if (themeColor.includes('royal') || themeColor.includes('purple')) themeName = 'royal';
                    else if (themeColor.includes('emerald') || themeColor.includes('green')) themeName = 'emerald';
                    else if (themeColor.includes('ruby') || themeColor.includes('red')) themeName = 'ruby';
                    
                    speak(`Switching to ${themeName} theme. Looking beautiful!`);
                    applyTheme(themeName);
                } else {
                    speak('Which theme would you like? You can choose golden, royal purple, emerald green, or ruby red.');
                }
                
            } else if (patterns.admin.test(command)) {
                speak('Opening the admin dashboard for you.');
                openAdmin();
                
            } else if (patterns.social.test(command)) {
                speak('Here are Francis Oyoo\'s social media profiles.');
                scrollToSocial();
                
            } else if (patterns.download.test(command)) {
                speak('Preparing theme downloads for you.');
                downloadThemes();
                
            } else if (patterns.help.test(command)) {
                speak('Here are the voice commands you can use. You can speak naturally!');
                showVoiceHelp();
                
            } else {
                // Advanced fallback with suggestions
                const suggestions = [
                    'Try saying "search for a song name", "change theme to golden", or "show help"',
                    'You can say things like "find Amazing Grace", "open admin panel", or "show social media"',
                    'I understand natural speech. Try "search for gospel songs" or "switch to emerald theme"'
                ];
                
                const suggestion = suggestions[Math.floor(Math.random() * suggestions.length)];
                speak(`I didn\'t quite understand "${originalText}". ${suggestion}`);
            }
        }
        
        // Voice Calibration Function
        function calibrateVoice() {
            speak('Voice calibration starting. Please say "Hello Gospel Platform" clearly.');
            updateStatusBar('üé§ Voice Calibration - Please speak clearly');
            
            // Simple calibration process
            setTimeout(() => {
                voiceCalibrated = true;
                speak('Voice calibration complete! Your voice is now optimized for better recognition.');
                updateStatusBar('‚úÖ Voice Calibrated - Enhanced recognition active');
            }, 3000);
        }

        // Enhanced Voice Control Functions
        function startVoiceRecognition() {
            if (!recognition) {
                if (!initializeVoiceRecognition()) {
                    alert('Voice recognition not supported in this browser. Please use Chrome, Edge, or Safari for the best voice experience.');
                    return;
                }
            }
            
            if (recognition && !isListening) {
                try {
                    recognition.start();
                    speak('Voice recognition started. I\'m listening to your voice.');
                } catch (error) {
                    console.error('Failed to start voice recognition:', error);
                    speak('Failed to start voice recognition. Please check your microphone permissions.');
                }
            } else if (isListening) {
                speak('Voice recognition is already active. I\'m listening!');
            }
        }

        function stopVoiceRecognition() {
            if (recognition && isListening) {
                recognition.stop();
                speak('Voice recognition stopped.');
            } else {
                speak('Voice recognition is not currently active.');
            }
        }
        
        function toggleVoiceRecognition() {
            if (isListening) {
                stopVoiceRecognition();
            } else {
                startVoiceRecognition();
            }
        }

        function speak(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.8;
                utterance.pitch = 1.1;
                speechSynthesis.speak(utterance);
            }
        }

        function showVoiceHelp() {
            const helpDiv = document.getElementById('voiceHelp');
            if (helpDiv.style.display === 'none') {
                helpDiv.style.display = 'block';
                speak('Voice commands help is now displayed.');
            } else {
                helpDiv.style.display = 'none';
            }
        }

        // Theme Functions
        function applyTheme(themeName) {
            const root = document.documentElement;
            
            switch(themeName) {
                case 'golden':
                    root.style.setProperty('--primary-gold', '#FFD700');
                    root.style.setProperty('--dark-gold', '#B8860B');
                    root.style.setProperty('--royal-purple', '#4B0082');
                    break;
                case 'royal':
                    root.style.setProperty('--primary-gold', '#9370DB');
                    root.style.setProperty('--dark-gold', '#663399');
                    root.style.setProperty('--royal-purple', '#191970');
                    break;
                case 'emerald':
                    root.style.setProperty('--primary-gold', '#50C878');
                    root.style.setProperty('--dark-gold', '#228B22');
                    root.style.setProperty('--royal-purple', '#006400');
                    break;
                case 'ruby':
                    root.style.setProperty('--primary-gold', '#E0115F');
                    root.style.setProperty('--dark-gold', '#8B0000');
                    root.style.setProperty('--royal-purple', '#4B0000');
                    break;
            }
            
            localStorage.setItem('selectedTheme', themeName);
            speak(`${themeName} theme applied successfully.`);
            updateStatusBar(`üé® Theme changed to ${themeName.charAt(0).toUpperCase() + themeName.slice(1)}`);
        }

        // Utility Functions
        function updateStatusBar(message) {
            const statusContent = document.querySelector('.status-content div:first-child');
            statusContent.textContent = message;
            setTimeout(() => {
                statusContent.textContent = 'üéµ Gospel Lyrics Platform - Golden Edition | Connected to oyoofrancistomy2@gmail.com';
            }, 3000);
        }

        function searchLyrics(searchTerm = '') {
            const term = searchTerm || prompt('Enter song name or artist:');
            if (term) {
                speak(`Searching for ${term}`);
                updateStatusBar(`üîç Searching for: ${term}`);
                // Implementation for lyrics search
                alert(`Searching for: ${term}\n\nSearch functionality will be implemented with the backend.`);
            }
        }

        function downloadApp() {
            speak('Mobile app coming soon for all platforms.');
            alert('Mobile App Development\n\nüì± iOS App Store\nü§ñ Google Play Store\nü™ü Microsoft Store\nüçé Mac App Store\n\nComing Soon!');
        }

        function downloadThemes() {
            speak('Preparing theme download.');
            const themes = ['Golden Royalty', 'Royal Purple', 'Emerald Divine', 'Ruby Passion'];
            alert('Premium Theme Collection\n\n' + themes.map(t => `‚ú® ${t}`).join('\n') + '\n\nDownload functionality coming soon!');
        }

        function openAdmin() {
            speak('Opening admin dashboard.');
            window.open('admin/', '_blank');
        }

        function scrollToSocial() {
            document.querySelector('.social-section').scrollIntoView({ behavior: 'smooth' });
            speak('Showing social media links.');
        }

        // Particle Animation
        function createParticles() {
            const container = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                container.appendChild(particle);
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            
            // Load saved theme
            const savedTheme = localStorage.getItem('selectedTheme');
            if (savedTheme) {
                applyTheme(savedTheme);
            }
            
            // Initialize voice recognition system
            if (initializeVoiceRecognition()) {
                setTimeout(() => {
                    speak('Welcome to Gospel Lyrics Platform Golden Edition. Your real voice recognition system is ready! Say "hello" to test it.');
                    // Auto-calibrate voice for better recognition
                    setTimeout(() => {
                        if (!voiceCalibrated) {
                            speak('For the best voice experience, you can say "calibrate voice" anytime.');
                        }
                    }, 3000);
                }, 1000);
            }
            
            updateStatusBar('üéµ Platform loaded successfully - All systems operational');
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case 'k':
                        e.preventDefault();
                        searchLyrics();
                        break;
                    case 'm':
                        e.preventDefault();
                        if (isListening) stopVoiceRecognition();
                        else startVoiceRecognition();
                        break;
                    case 'h':
                        e.preventDefault();
                        showVoiceHelp();
                        break;
                }
            }
        });
    </script>
</body>
</html>
